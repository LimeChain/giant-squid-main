module.exports = class Data1746190425674 {
    name = 'Data1746190425674'

    async up(db) {
        await db.query(`CREATE TABLE "staking_controller" ("id" character varying NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_number" integer NOT NULL, "extrinsic_hash" text, "staker_id" character varying, "controller_id" character varying, CONSTRAINT "PK_2560c349ea1947e7f7ae1e0cb64" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_1d205a09102d69c4c4d655652b" ON "staking_controller" ("staker_id") `)
        await db.query(`CREATE INDEX "IDX_d2ae6f84eb8d97789815db337f" ON "staking_controller" ("controller_id") `)
        await db.query(`CREATE INDEX "IDX_da64e35797f5ae3d92ba779e3f" ON "staking_controller" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_43f5dea7349fc1172be7a3f6fb" ON "staking_controller" ("extrinsic_hash") `)
        await db.query(`CREATE TABLE "staking_slash" ("id" character varying NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_number" integer NOT NULL, "extrinsic_hash" text, "amount" numeric NOT NULL, "account_id" character varying, "staker_id" character varying, CONSTRAINT "PK_3e74c2a899ae0f904f4142a4d3b" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_ec2e8474e4aa90af86a39814da" ON "staking_slash" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_cad37e1e3ca51418cf3fc5268c" ON "staking_slash" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_73664be4d41309d8269a9e85af" ON "staking_slash" ("account_id") `)
        await db.query(`CREATE INDEX "IDX_3e9b7b304fd26d01b15bd6dccd" ON "staking_slash" ("staker_id") `)
        await db.query(`CREATE TABLE "staking_bond" ("id" character varying NOT NULL, "type" character varying(9) NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_number" integer NOT NULL, "extrinsic_hash" text, "amount" numeric NOT NULL, "account_id" character varying, "staker_id" character varying, CONSTRAINT "PK_35ead485d489a050c632728cdd9" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_942bbc0d8c966f77a26cb4b1cf" ON "staking_bond" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_b38d17ce3a94eb771435464c20" ON "staking_bond" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_cf2a5fc4d501da37ec2c60b339" ON "staking_bond" ("account_id") `)
        await db.query(`CREATE INDEX "IDX_6dfbe050a4ef9c6b586906015e" ON "staking_bond" ("staker_id") `)
        await db.query(`CREATE TABLE "conviction_delegate" ("id" character varying NOT NULL, "extrinsic_hash" text, "class" integer NOT NULL, "conviction" text NOT NULL, "balance" numeric NOT NULL, "from_id" character varying, "to_id" character varying, CONSTRAINT "PK_22678907b742407649c70245299" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_2271e2cbc919bb4ef7cca53de2" ON "conviction_delegate" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_506e865e5aa82601868d766f4f" ON "conviction_delegate" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_fbf46d1687e23fd4579523a5d1" ON "conviction_delegate" ("to_id") `)
        await db.query(`CREATE TABLE "conviction_unlock" ("id" character varying NOT NULL, "class" integer NOT NULL, "target" text NOT NULL, CONSTRAINT "PK_6399f4c2f9b76b5e0e305bcb4fa" PRIMARY KEY ("id"))`)
        await db.query(`CREATE TABLE "conviction_undelegate" ("id" character varying NOT NULL, "extrinsic_hash" text, "class" integer NOT NULL, "account_id" character varying, CONSTRAINT "PK_79587e0afbf74699a78d5f53e62" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_d444775464735789ec73dce575" ON "conviction_undelegate" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_11162c51c9dcef3b16519b6dfa" ON "conviction_undelegate" ("account_id") `)
        await db.query(`CREATE TABLE "conviction_vote" ("id" character varying NOT NULL, "extrinsic_hash" text, "poll_index" integer NOT NULL, "vote" jsonb NOT NULL, "who_id" character varying, CONSTRAINT "PK_ff0112254d31eff17e0ab8f8245" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_abedc813d1c9f74f128e3044b1" ON "conviction_vote" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_725e4103f7b072c904f7560dac" ON "conviction_vote" ("who_id") `)
        await db.query(`CREATE TABLE "conviction_remove_vote" ("id" character varying NOT NULL, "extrinsic_hash" text, "class" integer, "index" integer NOT NULL, "who_id" character varying, CONSTRAINT "PK_a858bfcc9b813ab56e0554468c2" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_05e5665a496a9371e1523f251b" ON "conviction_remove_vote" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_599d9e49ee89339e7868f60b29" ON "conviction_remove_vote" ("who_id") `)
        await db.query(`ALTER TABLE "staking_controller" ADD CONSTRAINT "FK_1d205a09102d69c4c4d655652bc" FOREIGN KEY ("staker_id") REFERENCES "staker"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "staking_controller" ADD CONSTRAINT "FK_d2ae6f84eb8d97789815db337ff" FOREIGN KEY ("controller_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "staking_slash" ADD CONSTRAINT "FK_73664be4d41309d8269a9e85afd" FOREIGN KEY ("account_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "staking_slash" ADD CONSTRAINT "FK_3e9b7b304fd26d01b15bd6dccdb" FOREIGN KEY ("staker_id") REFERENCES "staker"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "staking_bond" ADD CONSTRAINT "FK_cf2a5fc4d501da37ec2c60b339c" FOREIGN KEY ("account_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "staking_bond" ADD CONSTRAINT "FK_6dfbe050a4ef9c6b586906015e9" FOREIGN KEY ("staker_id") REFERENCES "staker"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "conviction_delegate" ADD CONSTRAINT "FK_506e865e5aa82601868d766f4ff" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "conviction_delegate" ADD CONSTRAINT "FK_fbf46d1687e23fd4579523a5d1f" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "conviction_undelegate" ADD CONSTRAINT "FK_11162c51c9dcef3b16519b6dfae" FOREIGN KEY ("account_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "conviction_vote" ADD CONSTRAINT "FK_725e4103f7b072c904f7560dac6" FOREIGN KEY ("who_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "conviction_remove_vote" ADD CONSTRAINT "FK_599d9e49ee89339e7868f60b292" FOREIGN KEY ("who_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`DROP TABLE "staking_controller"`)
        await db.query(`DROP INDEX "public"."IDX_1d205a09102d69c4c4d655652b"`)
        await db.query(`DROP INDEX "public"."IDX_d2ae6f84eb8d97789815db337f"`)
        await db.query(`DROP INDEX "public"."IDX_da64e35797f5ae3d92ba779e3f"`)
        await db.query(`DROP INDEX "public"."IDX_43f5dea7349fc1172be7a3f6fb"`)
        await db.query(`DROP TABLE "staking_slash"`)
        await db.query(`DROP INDEX "public"."IDX_ec2e8474e4aa90af86a39814da"`)
        await db.query(`DROP INDEX "public"."IDX_cad37e1e3ca51418cf3fc5268c"`)
        await db.query(`DROP INDEX "public"."IDX_73664be4d41309d8269a9e85af"`)
        await db.query(`DROP INDEX "public"."IDX_3e9b7b304fd26d01b15bd6dccd"`)
        await db.query(`DROP TABLE "staking_bond"`)
        await db.query(`DROP INDEX "public"."IDX_942bbc0d8c966f77a26cb4b1cf"`)
        await db.query(`DROP INDEX "public"."IDX_b38d17ce3a94eb771435464c20"`)
        await db.query(`DROP INDEX "public"."IDX_cf2a5fc4d501da37ec2c60b339"`)
        await db.query(`DROP INDEX "public"."IDX_6dfbe050a4ef9c6b586906015e"`)
        await db.query(`DROP TABLE "conviction_delegate"`)
        await db.query(`DROP INDEX "public"."IDX_2271e2cbc919bb4ef7cca53de2"`)
        await db.query(`DROP INDEX "public"."IDX_506e865e5aa82601868d766f4f"`)
        await db.query(`DROP INDEX "public"."IDX_fbf46d1687e23fd4579523a5d1"`)
        await db.query(`DROP TABLE "conviction_unlock"`)
        await db.query(`DROP TABLE "conviction_undelegate"`)
        await db.query(`DROP INDEX "public"."IDX_d444775464735789ec73dce575"`)
        await db.query(`DROP INDEX "public"."IDX_11162c51c9dcef3b16519b6dfa"`)
        await db.query(`DROP TABLE "conviction_vote"`)
        await db.query(`DROP INDEX "public"."IDX_abedc813d1c9f74f128e3044b1"`)
        await db.query(`DROP INDEX "public"."IDX_725e4103f7b072c904f7560dac"`)
        await db.query(`DROP TABLE "conviction_remove_vote"`)
        await db.query(`DROP INDEX "public"."IDX_05e5665a496a9371e1523f251b"`)
        await db.query(`DROP INDEX "public"."IDX_599d9e49ee89339e7868f60b29"`)
        await db.query(`ALTER TABLE "staking_controller" DROP CONSTRAINT "FK_1d205a09102d69c4c4d655652bc"`)
        await db.query(`ALTER TABLE "staking_controller" DROP CONSTRAINT "FK_d2ae6f84eb8d97789815db337ff"`)
        await db.query(`ALTER TABLE "staking_slash" DROP CONSTRAINT "FK_73664be4d41309d8269a9e85afd"`)
        await db.query(`ALTER TABLE "staking_slash" DROP CONSTRAINT "FK_3e9b7b304fd26d01b15bd6dccdb"`)
        await db.query(`ALTER TABLE "staking_bond" DROP CONSTRAINT "FK_cf2a5fc4d501da37ec2c60b339c"`)
        await db.query(`ALTER TABLE "staking_bond" DROP CONSTRAINT "FK_6dfbe050a4ef9c6b586906015e9"`)
        await db.query(`ALTER TABLE "conviction_delegate" DROP CONSTRAINT "FK_506e865e5aa82601868d766f4ff"`)
        await db.query(`ALTER TABLE "conviction_delegate" DROP CONSTRAINT "FK_fbf46d1687e23fd4579523a5d1f"`)
        await db.query(`ALTER TABLE "conviction_undelegate" DROP CONSTRAINT "FK_11162c51c9dcef3b16519b6dfae"`)
        await db.query(`ALTER TABLE "conviction_vote" DROP CONSTRAINT "FK_725e4103f7b072c904f7560dac6"`)
        await db.query(`ALTER TABLE "conviction_remove_vote" DROP CONSTRAINT "FK_599d9e49ee89339e7868f60b292"`)
    }
}
